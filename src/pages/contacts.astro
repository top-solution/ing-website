---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import ContactListItem from "../components/ContactListItem.astro";

const title = "Mario Rossi";
const description = "Mario Rossi";


const allContacts = await getCollection('contacts');
const contacts = allContacts[0]?.data

---

<Layout title={title} description={description}>
	<!-- <Nav items={nav} />
	<Header title={title}>
		{"Repellendus in suscipit est repellat quisquam non voluptatibus."}
	</Header> -->
	<header class="header-container">
		<div class="logo-header">
			<img src="/public/logo-full-dark.svg" alt="Ingegnere Mario Rossi" />
		</div>
		<div>
			<ul class="menu-header">
				<li>
					<a href="/">Home</a>
				</li>
				<li>
					<a href="/projects">Projects</a>
				</li>
				<li>
					<a href="/about">About</a>
				</li>
				<li class="menu-active">
					<a href="/contacts">Contacts</a>
				</li>
			</ul>
		</div>
	</header>
	<section class="box-container blue-box-container">
		<div class="box-content secondary-box-content">
			<a href="/public/maps.png" target="_blank" class="map"> </a>
		</div>
	</section>
	<section class="box-container">
		<div class="box-content secondary-box-content">
			<ul class="contacts">
				<ContactListItem contactType="phone" value={contacts.phone} />
				<ContactListItem contactType="mobile" value={contacts.mobile} />
				{contacts.emails.map((email) => (
					<ContactListItem key={email} contactType="email" value={email} />
				))}
				<ContactListItem
					contactType="address"
					value={contacts.address}
					href={contacts.addressHref}
				/>
			</ul>
		</div>
	</section>
	<footer>
		<div class="footer-box">
			<div>
				<img src="/public/logo-full.svg" alt="" />
			</div>
			<div class="list-container">
				<div>
					<h4>Contacts</h4>
					<ul class="contacts">
						<ContactListItem contactType="phone" value={contacts.phone} />
						<ContactListItem contactType="mobile" value={contacts.mobile} />
						{contacts.emails.map((email) => (
							<ContactListItem key={email} contactType="email" value={email} />
						))}
						<ContactListItem
							contactType="address"
							value={contacts.address}
							href={contacts.addressHref}
						/>
					</ul>
				</div>
				<div class="links-container">
					<h4>Links</h4>
					<ul>
						{contacts.links.map(link => (
							<li>
								<a href={link.href}>{link.title}</a>
							</li>
						))}
					</ul>
				</div>
			</div>
			<div class="copyright">
				Â© Copyright ing. Mario Rossi, Torino - P.I. 123456789
			</div>
		</div>
	</footer>

	<style>
		.blue-box-container {
			background-color: var(--palette-blue);
			color: var(--palette-white);
		}
		.map {
			width: 100%;
			height: 40vw;
			background-image: url("/public/maps.png");
			background-size: cover;
			display: block;
			max-height: 300px;
			min-height: 248px;
			background-position: center;
		}
		.contacts {
			list-style: none;
			padding-inline-start: 0;
			margin-block-end: 0;
		}
		.contacts li {
			display: flex;
			flex-direction: row;
			gap: var(--space-s);
		}
		.box-content img {
			max-width: 100%;
		}

		footer {
			background-color: var(--palette-black);
			display: flex;
			flex-direction: row;
			justify-content: center;
			color: var(--palette-white);
			fill: var(--palette-white);
			padding: var(--space-xs);
		}
		footer h4 {
			text-transform: capitalize;
			margin-block-start: 0;
			margin-block-end: var(--space-3xs);
		}
		.footer-box {
			max-width: 600px;
		}
		.links-container li {
			list-style: none;
		}
		.links-container {
			border-left: 1px solid var(--palette-white-opacity);
			padding-inline-start: var(--space-xs);
		}
		.links-container ul {
			padding-inline-start: 0;
		}
		.list-container {
			display: flex;
			flex-direction: row;
			text-align: start;
			gap: var(--space-m);
			justify-content: space-between;
		}
		.list-container li {
			margin-block-start: var(--space-3xs);
			margin-block-end: var(--space-3xs);
		}
		.list-container ul {
			margin-block-start: 0;
		}
		.copyright {
			padding-block-start: var(--space-s);
		}
		.header-container {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		.logo-header {
			margin-block-start: var(--space-m);
		}
		.menu-header {
			list-style: none;
			display: flex;
			flex-direction: row;
			gap: var(--space-xl);
			justify-content: space-between;
			max-width: 600px;
			min-width: 280px;
			padding-inline-start: 0;
			font-weight: var(--font-weight-bold);
			font-size: var(--step-2);
		}
		.menu-header li {
			font-size: var(--step-2);
		}
		.menu-header a {
			text-decoration: none;
		}
		.menu-active {
			color: var(--palette-blue);
		}

		@media screen and (max-width: 600px) {
			.links-container {
				display: none;
			}
			.list-container {
				justify-content: center;
			}
			.menu-header {
				gap: var(--space-s);
			}
			.menu-header li {
				font-size: var(--step-0);
			}
		}
		@media screen and (min-width: 600px) and (max-width: 800px) {
			.list-container {
				justify-content: space-around;
			}
		}
	</style>
</Layout>
